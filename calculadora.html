<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Fórmula de Chance</title>
    <link rel="stylesheet" href="/assets/css/styles.css">
</head>
<body>
    {% include header.html %}
    
    <h1>Calculadora de Fórmula de Chance</h1>
    <div class="formula">Fórmula: chance = A * tier² + B * tier + C</div>

    <div class="container">
        <div class="card">
            <h2>Calcular Chance</h2>
            <p>Insira os coeficientes e o tier para calcular a chance</p>
            
            <div>
                <h3>Presets:</h3>
                <button class="preset-btn" onclick="loadPreset('ruse')">Ruse (Esquiva)</button>
                <button class="preset-btn" onclick="loadPreset('onslaught')">Onslaught (Fatal)</button>
                <button class="preset-btn" onclick="loadPreset('momentum')">Momentum</button>
                <button class="preset-btn" onclick="loadPreset('transcendance')">Transcendance</button>
            </div>
            
            <label for="coefA">Coeficiente A:</label>
            <input type="number" id="coefA" step="0.0001" value="0.0307576">
            
            <label for="coefB">Coeficiente B:</label>
            <input type="number" id="coefB" step="0.0001" value="1.440697">
            
            <label for="coefC">Coeficiente C:</label>
            <input type="number" id="coefC" step="0.0001" value="0.026">
            
            <label for="tier">Tier do Item (1-10):</label>
            <input type="number" id="tier" min="1" max="10" value="1">
            
            <button onclick="calcularChance()">Calcular Chance</button>
            
            <div class="result" id="chanceResult"></div>
            
            <div id="tierTable">
                <h3>Tabela de Chances por Tier</h3>
                <button onclick="gerarTabelaTiers()">Gerar Tabela</button>
                <table id="tableTiers">
                    <thead>
                        <tr>
                            <th>Tier</th>
                            <th>Chance (%)</th>
                        </tr>
                    </thead>
                    <tbody id="tierTableBody">
                    </tbody>
                </table>
            </div>
            
            <canvas id="chanceChart"></canvas>
        </div>
        
        <div class="card">
            <h2>Calcular Coeficientes</h2>
            <p>Informe as chances para 3 tiers diferentes e calcule os coeficientes A, B, C</p>
            
            <label for="tier1">Tier 1:</label>
            <input type="number" id="tier1" value="1" min="1" max="10">
            
            <label for="chance1">Chance para Tier 1 (%):</label>
            <input type="number" id="chance1" value="1.5" step="0.01" min="0">
            
            <label for="tier2">Tier 2:</label>
            <input type="number" id="tier2" value="5" min="1" max="10">
            
            <label for="chance2">Chance para Tier 2 (%):</label>
            <input type="number" id="chance2" value="12" step="0.01" min="0">
            
            <label for="tier3">Tier 3:</label>
            <input type="number" id="tier3" value="10" min="1" max="10">
            
            <label for="chance3">Chance para Tier 3 (%):</label>
            <input type="number" id="chance3" value="30" step="0.01" min="0">
            
            <button onclick="calcularCoeficientes()">Calcular Coeficientes</button>
            
            <div class="result" id="coefResult"></div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="/assets/js/calculator.js"></script>
    
    {% include footer.html %}
</body>
</html>